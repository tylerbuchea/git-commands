<!doctype html>
<html>
<head>

	<title>Git Commands</title>
	<style>
		body { font-family: helvetica }
		table { border-spacing: .5rem }
		td { padding: .5rem }
		
		tr:nth-child(odd) { background: #f0f0f0 }
		tr:nth-child(even) { background: orange }		
		
		td:nth-child(odd) { border: 1px dashed #666 }
		td:nth-child(even) { border: 1px solid #666 }
	</style>
	
</head>
<body onload="init">

	<input type="text" id="search"></input>
	<table><tbody id="list"></tbody></table>
	<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
	<script>		
	
	/** Init GitCommands **/
	function init() { GitCommands.init() }
	
	/** GitCommands Namespace **/
	var GitCommands = (function() {
		
		/* globals */
		var el = {
		
				list : document.getElementById('list'),
				search : document.getElementById('search'),
				
			},
		template = {
			
				LI : '<tr id="{id}" class="LI">' +
								'<td>{cmd}</td>' +
								'<td>{desc}</td>' +
							'</tr>'
				
			},
		LI = [ //&lt;&gt;
				/*
				wd == working directory
				sa == staging area
				lr == local repository
				rr == remote repository
				*/
				{cmd: 'git init',
				desc: 'set up local git repository in current directory',
				trip: ['', '']},
				{cmd: 'git add &lt;file&gt;',
				desc: 'add file to staging area',
				trip: ['wd', 'sa']},
				{cmd: 'git commit -m "Message in present tense"',
				desc: 'commit to the changes you\'ve added to stage',
				trip: ['sa', 'lr']},
				{cmd: 'git remote add origin &lt;remote Git file&gt;',
				desc: 'add remote repository to push to',
				trip: ['', '']},				
				{cmd: 'git push',
				desc: 'push commited changes to remote location (for first push append " -u origin master")',
				trip: ['lr', 'rr']},
				{cmd: 'git pull origin &lt;branch&gt;',
				desc: 'pull branch files and replace with files in working directory',
				trip: ['rr', 'lr']},
				{cmd: 'git config credential.helper cache',
				desc: 'cache password for the next 15 minutes',
				trip: ['', '']},
				{cmd: 'git checkout &lt;branch&gt;',
				desc: 'replace current working directory files with &lt;branch&gt; files',
				trip: ['lr', 'wd']},
				{cmd: 'git checkout &lt;branch&gt;',
				desc: 'replace current working directory files with &lt;branch&gt; files',
				trip: ['lr', 'wd']}
			],
		listLen = LI.length
		
		/* functions */
		var init = function() {
		
				displayLI()
				initEvents()
				
			},
		initEvents = function() {
		
				el.search.onkeyup = function(event) { 
					var q = this.value					
					q = q.replace(/</g, '&lt;')
					q = q.replace(/>/g, '&gt;')
					displayLI(q) 
				}
				
				el.list.onclick = function(event) {
					var element = event.target.parentElement
					if (element.getAttribute('class') === 'LI')
						drawTrip( LI[element.getAttribute('id')] )
				}
			
			},				
		displayLI = function(q) {
				var i = 0, text				
				el.list.innerHTML = ''
				
				for( ; i<listLen; i++) {
					text = LI[i].cmd + ' ' + LI[i].desc
					LI[i].id = i
					
					if (q) {
						( text.search(q) >= 0 ) ? el.list.innerHTML += template.LI.supplant(LI[i]) : null
					} else {
						el.list.innerHTML += template.LI.supplant(LI[i])	
					}
				}		
			},
		drawTrip = function(LI) {
				console.log(LI);
			}
			
			return { init : init }
			
		})();
		
		if (!String.prototype.supplant) {
			String.prototype.supplant = function (o) {
					return this.replace(/{([^{}]*)}/g,
							function (a, b) {
									var r = o[b];
									return typeof r === 'string' || typeof r === 'number' ? r : a;
							}
					);
			};
		}
		
		init();
	</script>

</body>
</html>
